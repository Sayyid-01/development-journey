<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>You are in login page</h1>
    <form action="" id="login-form">
        <input type="text" placeholder="Enter your email" id="email">
        <input type="text" placeholder="Enter password" id="password">
        <input type="submit" value="Submit">
    </form>
</body>
</html>
<script>
    const form = document.getElementById("login-form");
    const users = JSON.parse(localStorage.getItem("users"));
    console.log("users", users);
    let email = document.getElementById("email");
    let password = document.getElementById("password");
    form.addEventListener("submit", (e) => {
        e.preventDefault();
        let userEmail = email.value;
        let userPassword = password.value;
        console.log(userEmail, userPassword)
        
        let loggedInUser = users.filter((user) => user.email === userEmail && user.password === userPassword)
        // {name: "abc", email: "abc@gmail.com", password: "abc"}
        console.log(loggedInUser);
        // console.log("user credentials", userCred);
        if (loggedInUser.length == 0) {
            alert("User does not exist");
        }
        else {
            let currentUser = loggedInUser[0];
            localStorage.setItem("current-user", JSON.stringify(currentUser));
            window.location.href = "user-todos.html";
        }
        // else if (userCred === userPassword) {
        //     alert("login sucessful!");
        //     window.location.href = "home.html";
        // }
        // else {
        //     alert("wrong password! please enter a correct password")
        // }


        // localStorage.setItem(email.value, password.value);
        // window.location.href = "home.html";
    })
</script>